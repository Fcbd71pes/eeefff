# eFootball Tournament Bot ЁЯОо

ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг-ржмрзИрж╢рж┐рж╖рзНржЯрзНржп рж╕ржорзНржкржирзНржи Telegram ржмржЯ ржпрж╛ eFootball ржЯрзБрж░рзНржирж╛ржорзЗржирзНржЯ, ржорзНржпрж╛ржЪржорзЗржХрж┐ржВ ржПржмржВ ржкрзЗржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред

## ржмрзИрж╢рж┐рж╖рзНржЯрзНржп тЬи

### ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ ржлрж┐ржЪрж╛рж░
- **1v1 ржорзНржпрж╛ржЪржорзЗржХрж┐ржВ** - ржмрж┐ржнрж┐ржирзНржи ржПржирзНржЯрзНрж░рж┐ ржлрж┐ рж╕рж╣ ржжрзНрж░рзБржд ржорзНржпрж╛ржЪ ржЦрзБржБржЬрзБржи
- **ржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ ржорзНржпрж╛ржЪ** - ELO рж░рзЗржЯрж┐ржВ ржЕржирзБрж╢рзАрж▓ржи ржХрж░рждрзЗ ржлрзНрж░рж┐ ржорзНржпрж╛ржЪ ржЦрзЗрж▓рзБржи
- **ELO рж░рзЗржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржо** - ржжржХрзНрж╖рждрж╛ рж░тАНрзНржпрж╛ржЩрзНржХрж┐ржВ ржПржмржВ рж▓рж┐ржбрж╛рж░ржмрзЛрж░рзНржб
- **ржЯрж╛ржХрж╛ ржЬржорж╛ ржУ рждрзЛрж▓рж╛** - Bkash/Nagad ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рж╣ржЬ ржкрзЗржорзЗржирзНржЯ
- **рж░рзЗржлрж╛рж░рзЗрж▓ ржмрзЛржирж╛рж╕** - ржмржирзНржзрзБржжрзЗрж░ ржЖржоржирзНрждрзНрж░ржг ржЬрж╛ржирж╛ржи ржПржмржВ ржЖржпрж╝ ржХрж░рзБржи
- **рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржорзНржпрж╛ржЪ ржЯрж╛ржЗржоржЖржЙржЯ** - 15 ржорж┐ржирж┐ржЯ ржкрж░ ржЖржкржирж╛рж░ ржмрж┐ржЬржпрж╝рзА рж╣ржи ржпржжрж┐ ржкрзНрж░рждрж┐ржкржХрзНрж╖ ржлрж▓рж╛ржлрж▓ ржирж╛ ржжрзЗржпрж╝

### ржЕрзНржпрж╛ржбржорж┐ржи ржХржорж╛ржирзНржб ЁЯФР

```bash
# ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи ржПржмржВ ржоржирж┐ржЯрж░рж┐ржВ
/stats                          # рж╕рж┐рж╕рзНржЯрзЗржо ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи ржжрзЗржЦрзБржи
/userinfo <user_id>            # ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рждржерзНржп
/matchinfo <match_id>          # ржорзНржпрж╛ржЪрзЗрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп

# рж╕ржорзНржкрзНрж░ржЪрж╛рж░ ржПржмржВ ржШрзЛрж╖ржгрж╛
/broadcast <ржмрж╛рж░рзНрждрж╛>            # рж╕ржХрж▓ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ ржмрж╛рж░рзНрждрж╛ ржкрж╛ржарж╛ржи
/setrules <ржирждрзБржи ржирж┐ржпрж╝ржорж╛ржмрж▓рзА>      # ржЧрзЗржо ржирж┐ржпрж╝ржорж╛ржмрж▓рзА рж╕рзЗржЯ ржХрж░рзБржи

# ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛
/banuser <user_id> [ржХрж╛рж░ржг]      # ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржмрзНржпрж╛ржи ржХрж░рзБржи
/unbanuser <user_id>            # ржмрзНржпрж╛ржи рж╣ржЯрж╛ржи

# ржЖрж░рзНржерж┐ржХ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛
/approve_deposit <req_id>       # ржбрж┐ржкрзЛржЬрж┐ржЯ ржЕржирзБржорзЛржжржи ржХрж░рзБржи
/approve_withdrawal <req_id>    # ржЙржЗржержбрзНрж░ ржЕржирзБржорзЛржжржи ржХрж░рзБржи
/reject_withdrawal <req_id>     # ржЙржЗржержбрзНрж░ ржмрж╛рждрж┐рж▓ ржХрж░рзБржи

# ржЕржирзНржпрж╛ржирзНржп
/freeplay_on                    # ржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ ржорзНржпрж╛ржЪ ржЪрж╛рж▓рзБ ржХрж░рзБржи
/freeplay_off                   # ржмрж┐ржирж╛ржорзВрж▓рзНржпрзЗ ржорзНржпрж╛ржЪ ржмржирзНржз ржХрж░рзБржи
/backup                         # ржбрж╛ржЯрж╛ржмрзЗрж╕ ржмрзНржпрж╛ржХржЖржк ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи
```

## ржЙржирзНржирждрж┐ ржПржмржВ ржЕржкржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи ЁЯЪА

### ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЕржнрж┐ржЬрзНржЮрждрж╛
- тЬЕ ржЗржирж▓рж╛ржЗржи ржХрзАржмрзЛрж░рзНржб ржирзЗржнрж┐ржЧрзЗрж╢ржи
- тЬЕ ржЙржирзНржиржд рждрзНрж░рзБржЯрж┐ ржмрж╛рж░рзНрждрж╛
- тЬЕ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржмрзНржпрж╛ржи рж╕рж┐рж╕рзНржЯрзЗржо
- тЬЕ ржорзЗржирзБ ржЪрзЗржХ ржлрж┐ржЪрж╛рж░

### ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕
- тЬЕ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЕржкржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи
- тЬЕ ржжрзНрж░рзБржд ржорзНржпрж╛ржЪржорзЗржХрж┐ржВ
- тЬЕ API рж░рзЗржЯ рж▓рж┐ржорж┐ржЯрж┐ржВ
- тЬЕ ржжржХрзНрж╖ ржХрзЛржпрж╝рзЗрж░рж┐

### ржЕрзНржпрж╛ржбржорж┐ржи ржЯрзБрж▓рж╕
- тЬЕ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи
- тЬЕ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА рж╕ржирзНржзрж╛ржи ржПржмржВ ржкрж░рж┐ржЪрж╛рж▓ржирж╛
- тЬЕ ржорзНржпрж╛ржЪ ржоржирж┐ржЯрж░рж┐ржВ
- тЬЕ рж╕ржорзНржкрзНрж░ржЪрж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо

## ржЗржирж╕рзНржЯрж▓рзЗрж╢ржи ЁЯУж

### ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝рждрж╛
- Python 3.8+
- pip

### рж╕рзЗржЯржЖржк
```bash
# ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи
pip install -r requirements.txt

# ржХржиржлрж┐ржЧ ржЖржкржбрзЗржЯ ржХрж░рзБржи
# config.py ржП ржЖржкржирж╛рж░ TOKEN ржПржмржВ ржЕржирзНржпрж╛ржирзНржп рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи

# ржмржЯ ржЪрж╛рж▓рж╛ржи
python bot.py

# ржЕржержмрж╛ ржмрзНржпрж╛ржЪ ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи (Windows)
start_bot.bat
```

## ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи тЪЩя╕П

`config.py` ржП ржПржЗ рж╕рзЗржЯрж┐ржВрж╕ ржЖржкржбрзЗржЯ ржХрж░рзБржи:

```python
TOKEN = 'ржЖржкржирж╛рж░ ржмржЯ ржЯрзЛржХрзЗржи'
ADMINS = [ржЖржкржирж╛рж░ ржЗржЙржЬрж╛рж░ ржЖржЗржбрж┐]
CHANNEL_ID = ржЪрзНржпрж╛ржирзЗрж▓ ржЖржЗржбрж┐
LOBBY_CHANNEL_ID = рж▓ржмрж┐ ржЪрзНржпрж╛ржирзЗрж▓рзЗрж░ ржЖржЗржбрж┐
BOT_USERNAME = 'ржЖржкржирж╛рж░ ржмржЯрзЗрж░ ржирж╛ржо'
CHANNEL_USERNAME = 'ржЖржкржирж╛рж░ ржЪрзНржпрж╛ржирзЗрж▓рзЗрж░ ржирж╛ржо'
```

## ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╕рзНржХрж┐ржорж╛ ЁЯЧДя╕П

### ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЯрзЗржмрж┐рж▓
- `user_id` - Telegram ржЗржЙржЬрж╛рж░ ржЖржЗржбрж┐ (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрзА)
- `ingame_name` - eFootball ржЧрзЗржо ржирж╛ржо
- `balance` - ржЯрж╛ржХрж╛ ржмрзНржпрж╛рж▓рзЗржирзНрж╕
- `elo_rating` - ржжржХрзНрж╖рждрж╛ рж░рзЗржЯрж┐ржВ (ржбрж┐ржлрж▓рзНржЯ: 1000)
- `wins`, `losses` - ржЬржпрж╝/ржкрж░рж╛ржЬржпрж╝ рж╕ржВржЦрзНржпрж╛
- `is_banned` - ржмрзНржпрж╛ржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
- `is_registered` - рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕

### ржорзНржпрж╛ржЪ ржЯрзЗржмрж┐рж▓
- `match_id` - ржЕржиржирзНржп ржорзНржпрж╛ржЪ ржЖржЗржбрж┐
- `player1_id`, `player2_id` - ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ ржЖржЗржбрж┐
- `fee` - ржПржирзНржЯрзНрж░рж┐ ржлрж┐
- `status` - ржорзНржпрж╛ржЪ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ (waiting_for_code, in_progress, completed)
- `room_code` - eFootball рж░рзБржо ржХрзЛржб
- `p1_screenshot_id`, `p2_screenshot_id` - ржлрж▓рж╛ржлрж▓ рж╕рзНржХрзНрж░рж┐ржирж╢ржЯ

## ELO рж░рзЗржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржо ЁЯУК

ржЪрзЗрж╕рзЗрж░ ржорждрзЛ ELO рж╕рж┐рж╕рзНржЯрзЗржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржжржХрзНрж╖рждрж╛ ржЧржгржирж╛ ржХрж░рж╛ рж╣ржпрж╝:

```
Expected Score = 1 / (1 + 10^((opponent_rating - player_rating) / 400))
New Rating = Current + K * (Result - Expected)
K-factor = 32
```

- ржЬржпрж╝рзЗрж░ ржлрж▓рзЗ ржмрзЗрж╢рж┐ ELO ржЙржЪрзНржЪрждрж░ ржжржХрзНрж╖рждрж╛рж░ ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝рзЗрж░ ржмрж┐ржкржХрзНрж╖рзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝
- рж▓рж┐ржбрж╛рж░ржмрзЛрж░рзНржб ELO рж░рзЗржЯрж┐ржВ ржЕржирзБржпрж╛ржпрж╝рзА рж╕рж╛ржЬрж╛ржирзЛ

## ржЙржЗржержбрзНрж░ рж╕рж┐рж╕рзНржЯрзЗржо ЁЯТ╕

### ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛
1. ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЬржорж╛ ржжрзЗржпрж╝
2. ржЕрзНржпрж╛ржбржорж┐ржи `/approve_withdrawal` ржжрж┐ржпрж╝рзЗ ржЕржирзБржорзЛржжржи ржХрж░рзЗ
3. ржЕржержмрж╛ `/reject_withdrawal` ржжрж┐ржпрж╝рзЗ ржмрж╛рждрж┐рж▓ ржХрж░рзЗ

### рж╕рзАржорж╛
- ржирзНржпрзВржирждржо: 100 TK
- рж╕рж░рзНржмрзЛржЪрзНржЪ: ржмрзНржпрж╛рж▓рзЗржирзНрж╕рзЗрж░ рж╕ржорж╛ржи

## ржбрж┐ржкрзЛржЬрж┐ржЯ рж╕рж┐рж╕рзНржЯрзЗржо ЁЯПж

### ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛
1. ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ ржмржЯ ржерзЗржХрзЗ Bkash/Nagad ржиржорзНржмрж░ ржкрж╛ржпрж╝
2. ржЯрж╛ржХрж╛ ржкрж╛ржарж╛ржпрж╝ ржПржмржВ Transaction ID ржжрзЗржпрж╝
3. ржЕрзНржпрж╛ржбржорж┐ржи `/approve_deposit` ржжрж┐ржпрж╝рзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ
4. ржЯрж╛ржХрж╛ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ ржпрзЛржЧ рж╣ржпрж╝

### ржиржорзНржмрж░
- Bkash: `01914573762`
- Nagad: `01914573762`

## рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржи ЁЯФз

### "Channel membership required"
- ржХржиржлрж┐ржЧрзЗ рж╕ржарж┐ржХ `CHANNEL_ID` ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
- ржмржЯ ржЪрзНржпрж╛ржирзЗрж▓рзЗ ржЕрзНржпрж╛ржбржорж┐ржи ржЖржЫрзЗ ржХрж┐ржирж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи

### ржорзНржпрж╛ржЪ ржЦрзБржБржЬрзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛
- ржЕржирзНржп ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝ржжрзЗрж░ ржЕржирж▓рж╛ржЗржи ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
- ржПржХржЗ ржлрж┐-ржПрж░ ржЬржирзНржп ржЦрзЛржБржЬрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝

### ржЙржЗржержбрзНрж░ рж╕рзНржержЧрж┐ржд ржЖржЫрзЗ
- ржкрзНрж░ржержорзЗ рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи рж╕ржорзНржкрзВрж░рзНржг ржХрж░рзБржи
- ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржЪрзЗржХ ржХрж░рзБржи

## ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржирзЛржЯ ЁЯФТ

- TOKEN ржХржЦржирзЛ share ржХрж░ржмрзЗржи ржирж╛
- ржЖржкржирж╛рж░ ADMIN ID рж╕рзБрж░ржХрзНрж╖рж┐ржд рж░рж╛ржЦрзБржи
- ржирж┐ржпрж╝ржорж┐ржд ржбрж╛ржЯрж╛ржмрзЗрж╕ ржмрзНржпрж╛ржХржЖржк ржирж┐ржи

## рж▓рж╛ржЗрж╕рзЗржирзНрж╕ ЁЯУД

MIT License

## рж╕рж╣рж╛ржпрж╝рждрж╛ ЁЯУЮ

ржкрзНрж░рж╢рзНржи ржмрж╛ рж╕ржорж╕рзНржпрж╛рж░ ржЬржирзНржп ржЕрзНржпрж╛ржбржорж┐ржиржХрзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржиред